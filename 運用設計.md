## 1. 運用・運用設計とは何か

### 1-1. 「運用」とは？

**運用**とは、システムやITサービスが利用開始されてから終了するまでに必要となる、
日々の業務・作業のことです。

具体的には、次のようなことを含みます。
- サービスを安定して提供し続ける
- システムを正常な状態に保つ
- サービスを効率的に提供できるよう、運用を改善していく

#### たとえ話：レストラン運営で考える「運用」

ITサービスを**レストラン**にたとえてみます。

- システム → レストランのキッチン・ホール・レジなど
- 利用者 → お客様
- 運用 → 
  - 食材の仕入れ
  - 仕込み
  - 開店・閉店の準備
  - 注文受付・会計
  - 設備の点検・掃除

レストランが「オープンした瞬間」がゴールではなく、
**毎日安定しておいしい料理を提供し続ける仕組み**を回していくことが「運用」です。

ITシステムも同じで、システムリリースはスタートラインであり、
そこから長くサービスを提供し続けるための活動全体が「運用」です。


### 1-2. 「運用設計」とは？

**運用設計**とは、運用に必要な仕組み・ルール・体制・手順をあらかじめ決めることです。

> 運用に必要な仕組みを決めるために行う。システムの重要度に合わせて最適化することも必要となる。

もう少し砕くと、

> 「誰が」「どんな役割で」「どんな業務を」「どのシステムに対して」行うかを決める。

ということです。加えて、複数の部署が関わる作業では、

> 「どんな情報を」「どのように」連携するかも決める。

#### たとえ話：運用設計は「開店マニュアルづくり」

再びレストランで考えると、
- オープン前に「開店準備マニュアル」や「発注ルール」「クレーム対応フロー」を作る
- 「シフト表」や「担当表」を決める

といった活動が、ITでいうところの**運用設計**です。

開店してから「そういえば、閉店後の売上集計って誰がやるんだっけ？」と悩むのはつらいですよね。
ITシステムも同じで、運用設計をしておかないと、

- 誰が障害対応をするのか
- どこにエスカレーションすればよいのか
- どの資料を見れば作業できるのか

が曖昧になり、混乱やトラブルにつながります。


### 1-3. 運用設計の目的

運用設計の目的として、次のようなポイントが挙げられています。

1. **運用範囲の整理**  
   - システムを維持・管理するために必要な作業を洗い出す
2. **サービスレベルの維持**  
   - システム異常時に、最適な連絡経路で対応できるようにする
3. **標準化**  
   - 誰でもできるような手順書や台帳を作る
4. **ドキュメントの可視化**  
   - 作業に必要な運用ドキュメントを明確に整理する

- **運用のリソースは有限**である
- サービス開始後に運用担当者へ**不要な負荷がかからないようにする**
- そのために、運用設計フェーズで
  - **ドキュメントを整理する（無駄なものは極力減らす）**
  - **発注者側と先送りせずに合意を取る**

#### ポイント

- 運用設計は「ただ資料を量産する仕事」ではなく、
  - 運用コストを抑え
  - 品質を保ち
  - トラブル時にも対応できる
 仕組みを、事前に設計するための活動です。


## 2. 運用の3つの分類と成熟度

### 2-1. 運用の3つの分類

運用は、大きく次の3つに分類できます。

1. **業務運用**  
   - サービスを提供するアプリケーションと利用者に関する業務
2. **基盤運用**  
   - サービスを安定して動かすためのインフラ・OS・ミドルウェアなどに関する業務
3. **運用管理**  
   - 運用全体のルールと方針を決める・維持する業務

#### 簡単なたとえ

- 業務運用：ホールスタッフ（お客様対応、注文処理）
- 基盤運用：キッチンや設備管理（ガス・電気・冷蔵庫の維持）
- 運用管理：店長（全体のポリシー、売上管理、改善方針）

後の章で、それぞれのカテゴリごとの具体的な作業項目を詳しく見ていきます。


### 2-2. 運用成熟度モデル（COBITをベースとしたイメージ）

運用の習熟度をいくつかのレベルに分けて説明しています。

| レベル | 状態             | 詳細 |  
|--------|------------------|------|
| 0      | プロセス不在     | 問題を認識できていない |
| 1      | 個別対応         | 課題は認識しているが、個人が属人的に対応 |
| 2      | 再現性はあるが直感的 | メモレベルの手順書はあるが、知識共有はされていない |
| 3      | 定められたプロセス | 体系化はされているが、強制力は弱い。想定外には弱い |
| 4      | 管理・測定が可能 | 改善プロセスが定義され、一部自動化もされている |
| 5      | 最適化           | 全体最適を目指して継続的に改善できている |

運用設計の段階では、**まずレベル3を目指す**のが現実的とされています。

> レベル3以上は、運用開始後に運用担当者が改善していく要素が多い。

#### まず意識すべきこと

- いきなり「最高にカッコいい自動化された運用」を目指すのではなく、
  - **誰が見ても分かる手順書**
  - **必要なドキュメントが揃っている状態**
  - **関係者間で合意されたルール**
  を整えることが第一歩です。


## 3. 運用に関わる人たちと役割

運用に関わる主な役割が整理します。

| 役割                 | 詳細 |
|----------------------|------|
| 利用者               | サービスを実際に使う人。疑問や不具合があると問い合わせをする |
| 情報システム室       | システム発注者側の責任者。システム変更の承認などを行う |
| サポートデスク       | 利用者からの問い合わせ窓口。一次対応・エスカレーションを行う |
| 監視オペレーター     | システムアラートを監視し、障害検知と一次対応を行う |
| DCオペレーター       | データセンターでの現地作業（機器の確認など）を行う |
| 運用担当者           | システムを熟知し、運用全般の中心となる担当者 |
| ソフトウェア保守     | ベンダーによるアプリ・ミドルウェア・OSの保守対応 |
| ハードウェア保守     | ベンダーによるハードウェア故障時の保守対応 |

#### たとえ：ドラマのキャスト

システム運用は、1人で何でもこなすヒーローものではなく、

- 利用者（お客様）
- 主人公：運用担当者
- 脇を固めるサポートデスク、監視、DCオペレーター
- 裏方の保守ベンダー

といった**チームプレイのドラマ**です。

運用設計とは、このドラマで

- 誰が何話に登場するのか
- どんなセリフ（役割）を持つのか

をあらかじめ台本として決めておくイメージです。


## 4. 運用設計で作る主なドキュメント

運用設計で作る代表的なドキュメントとして、次の7種が挙げられます。

1. **運用設計書**  
   - 運用項目ごとの方針・概要・理由をまとめた文書
2. **運用項目一覧**  
   - すべての運用作業項目と担当者、関連ドキュメントを一覧化したもの
3. **運用フロー図**  
   - 関係者・部署間での情報の流れを図で表したもの
4. **運用手順書**  
   - 実際の作業手順を詳細に記載した手順書
5. **申請書（フォーマット）**  
   - ユーザーや関係部署からの依頼・申請を受けるための定型フォーム
6. **台帳**  
   - 定期的に変化するデータ（利用者情報、機器構成など）を管理するための帳票
7. **一覧**  
   - IPアドレス一覧やライセンス一覧など、よく参照する静的な情報をまとめたもの

### 4-1. それぞれの役割のイメージ

#### (1) 運用設計書

- 「運用設計の教科書」でいう**運用の憲法**のようなもの。
- どのようなルール・方針で運用するかを明文化し、
  - 採用した方針
  - 採用されなかった方針とその理由
 も含めて整理します。

#### (2) 運用項目一覧

- 「どんな作業があるか」を一覧できる**運用のカタログ**です。
- 記載内容の例：
  - 運用分類（業務運用／基盤運用／運用管理）
  - 運用項目名（例：ユーザー管理）
  - 作業名（例：利用開始登録）
  - 作業概要
  - 関連ドキュメント
  - 担当者・役割分担
  - 作業頻度
  - 作業工数

#### (3) 運用フロー図

- 3つ以上の組織が関わるような運用項目では、
  - **いつ・誰が・どの情報を・どこへ渡すか**
  を図で表した運用フロー図が必要か検討するべきです。
- BPMN（Business Process Model and Notation）のようなフロー図で表現することが推奨されています。

#### (4) 運用手順書

- オペレーターが実際に画面を操作するときの**作業の台本**。
- 記載内容の例：
  - 手順書の目的
  - トリガー（いつ実行されるか）
  - 参照するドキュメント
  - 前提条件
  - 実施手順
  - 事後作業

#### (5) 申請書

- 利用者や他部署から、
  - アカウント発行
  - 権限付与
  - 作業依頼
 などを受けるための**窓口のフォーマット**です。

#### (6) 台帳

- 定期的に更新される動的情報（台数、状態、契約など）を管理するための帳票です。
- 例：
  - 利用者台帳
  - 機器構成台帳
  - 保守契約管理台帳

#### (7) 一覧

- そこまで頻繁には変わらないが、参照頻度が高い情報をまとめたリストです。
- 例：
  - IPアドレス一覧
  - ポート管理表
  - バックアップ・ジョブ一覧


## 5. プロジェクトの各フェーズと運用設計

プロジェクトのフェーズごとに、
運用設計で何をするか整理します。

### 5-1. システム化計画フェーズ

- この時点では、運用設計担当が深く入ることは少ない。
- ただし、後々運用に影響する情報として、
  - 発注者の期待度
  - 採用されなかったアイデア
  - プロジェクトの変動要素
  などを把握しておくとよい。

### 5-2. 要件定義フェーズ

主なゴールは、**運用体制図**と**運用項目一覧のたたき台**を作ることです。

- 運用体制図の作成
  - どの組織が運用に関わるか
  - 各組織の対応時間・必要人数
- 運用項目一覧（ドラフト）の作成
  - ユースケースをもとに「運用で対応すべきこと」を洗い出す
  - 業務運用・基盤運用・運用管理の観点で整理する

#### ヒント：ユースケースからの運用洗い出し

- ユーザーの操作フロー（ユースケース）を見ていて、
  - 「ここは例外処理が多そう」
  - 「ここは承認が必要そう」
  と感じる部分は、運用項目に落ちてくる可能性が高いです。

### 5-3. 基本設計フェーズ

ここでは、運用設計の中心となる以下を行います。

1. **運用設計書に運用ルール・やること／やらないことを明記し、発注者と合意する**
2. **運用フロー図で役割分担を整理する**
3. **運用項目一覧を更新し、必要なドキュメントを確定する**

> ここで発注者ときちんと合意を取ることが重要。先送りすると後で痛い目を見る。

### 5-4. 詳細設計フェーズ

- 実際に運用手順書、台帳、一覧、申請書フォーマットなど、
  **個々のドキュメントを作り込むフェーズ**です。
- WBS（作業分解構造）を細かく作り、
  - どの手順書を
  - 誰が
  - いつまでに
  作るかを管理します。

### 5-5. 運用テストフェーズ

**目的**：作ったドキュメントを使って、本当に運用が回せるかを確認する。

- 運用テスト計画書を作成
- 運用フローテスト
- 運用手順書テスト
- 課題の洗い出し・優先度付け

テストの種別として、以下が挙げられています。

- 単体テスト
- 結合テスト
- 総合テスト
- **運用テスト**（ここが運用設計の山場）

### 5-6. 運用引き継ぎ・運用支援

- 運用設計担当から運用担当者へ、
  - ドキュメント一式
  - 運用ルール
  - 重要なインシデント対応
  などを説明・訓練します。

- サービス開始直後はトラブルが起きやすいため、
  **一定期間は運用設計担当が運用支援として残り、改善活動を行う**こともあります。


## 6. カテゴリ別：代表的な運用項目

カテゴリ別の運用項目をまとめます。

### 6-1. 業務運用

**対象範囲**：
> 利用者とシステム管理者間のやりとりを円滑に行う。
> サービスを提供するアプリや利用者に関連するものが多い。

代表的な運用項目：

1. システム利用者管理  
2. サポートデスク  
3. デバイスライフサイクル管理

#### (1) システム利用者管理

利用者に関する変更や、利用状況確認のための項目です。

- システム利用開始
  - 入社・昇格・異動時にアカウント発行
- システム利用変更
  - 異動に伴う権限変更
- システム利用停止
  - 休職・退職時のアカウント停止
- 緊急申請作業
  - 進級申請などにより、急ぎで権限変更が必要な場合
- 利用者棚卸し
  - 停止漏れがないかを定期的に確認

##### たとえ

- 「社員証の発行・回収」とほぼ同じイメージです。
  - 入社 → 社員証発行
  - 異動 → 入退室権限変更
  - 退職 → 社員証回収

#### (2) サポートデスク

利用者向け窓口として、問い合わせ対応を行う機能です。

- 問い合わせ対応
  - 一次受付・内容の整理・エスカレーション
- 情報発信
  - メンテナンス情報
  - 障害情報
  - Tips（便利な使い方）
- FAQ更新
  - よくある問い合わせを整理し、公開情報として整備
- 定期報告
  - 問い合わせ件数
  - 解決率
  - 平均対応時間 などを集計・報告

サポートデスクは**受け身ではなく、情報発信によって問い合わせを減らす役割も重要**です。

#### (3) デバイスライフサイクル管理

利用者に貸し出すPCや端末などに関する管理です。

- デバイス貸し出し
- 故障時対応（代替機への交換）
- デバイス返却
- 棚卸し
  - 台帳との整合性確認
- キッティング
  - 端末へのOS／ソフト導入
- マスター更新
  - クライアントPCのマスターイメージ更新


### 6-2. 基盤運用

**対象範囲**：
> サービスが安定して動作するように、システム基盤（ハードウェア、OS、ミドルウェア）を運用する項目。

代表的な運用項目：

1. パッチ適用
2. ジョブ／スクリプト管理
3. バックアップ／リストア運用
4. 監視運用
5. ログ管理
6. 運用アカウント管理
7. 保守契約管理

#### (1) パッチ適用

- セキュリティホールの修正やバグ修正のためにソフトウェアを更新する作業。
- トリガー：
  - 定期
  - 緊急
- 決めるべきこと：
  - 適用対象（OS／ファームウェア／ソフトウェア）
  - 適用基準（JVN、JPCERTなどの情報）
  - 実施判断者
  - 実施手順（メーカー手順＋個別環境の手順）

#### (2) ジョブ／スクリプト管理

- バッチや定期処理をどう管理するか。
- 決める項目例：
  - 分類
  - 実行対象
  - 処理概要
  - 実行周期
  - 開始時刻
  - 停止時の影響・代替手段

#### (3) バックアップ／リストア運用

- どのデータを、どの周期で、どの媒体に、何世代保持するかを定める。
- バックアップ設計のポイント：
  - 目的（システム復旧か、データ復旧か、DRも含むか）
  - 対象（データ／設定／構成情報など）
  - 取得周期・世代数（RPOから逆算）
  - 復旧時間（RTO）との関係

#### (4) 監視運用

監視は大きく**インフラ監視**と**サービス監視**に分かれます。

- インフラ監視
  - 死活監視（ping）
  - ハードウェア監視（SNMPなど）
  - リソース監視（CPU、メモリ、ストレージ、ネットワーク）
  - プロセス監視
  - ログ監視（error以上を監視対象）
- サービス監視
  - HTTP監視（URL応答ステータス・応答時間）
  - 画面遷移監視（シナリオ監視）

さらに、障害の重みづけとして、

- A：サービス全停止
- B：一部機能停止／縮退運転
- C：冗長構成の一部破損
- D：サービス影響なしだがアラートあり

などのレベル設定も行います。

#### (5) ログ管理

- 障害調査用ログ（数ヶ月）
- 監査対応用ログ（数年）

といった、用途別に**保管期間と保管方法を決めておくこと**が重要です。

#### (6) 運用アカウント管理

- 特権ID管理（ローカル・AD）
- アカウント追加／変更／削除
- アカウント棚卸し
- パスワード変更

などのルールを決めます。

#### (7) 保守契約管理

保守契約管理とは？
- システムのハードウェア／ソフトウェアをベンダーサポート付きで安定運用するため、
- 保守契約の内容を整理して台帳で管理することです。

- 保守契約名
- 機器名／ホスト名
- 型番／シリアル
- 問い合わせ方法
- 契約番号／ライセンス番号
- 対応時間・対応範囲
- 契約期間・更新方法

などを「保守契約管理台帳」として整理します。

なぜ台帳が必要なの？
- 運用現場では「このサーバ壊れた！どこに連絡すれば？契約内容は？」

という迷子状態を防ぐために、契約情報を一元化します。

### 6-3. 運用管理

**対象範囲**：
> 運用全体の方針、セキュリティポリシーなどを踏まえた、全体共通ルール。

代表的な運用項目：

1. 運用維持管理
2. 運用情報統制
3. 定期報告

#### (1) 運用維持管理

- サービスレベル管理（SLA・SLO）
- キャパシティ管理
- 可用性管理
- 情報セキュリティ管理
- ITサービス継続性管理（BCP／DR）
- 運用要員教育・定期訓練

などを含みます。

#### (2) 運用情報統制

- 問い合わせ対応
- 監視アラート対応
- 改善要望の受付と実施判断
- インシデント管理
- 問題管理
- 変更管理
- リリース管理
- 構成管理（CI／CMDB）
- ナレッジ管理

といった、ITILでいうところのサービスマネジメントプロセスに相当します。

#### (3) 定期報告

- 利用者数・利用時間
- キャパシティ指標
- パフォーマンス指標
- SLA／SLO達成状況

などを定期的に分析し、報告します。


## 7. セキュリティ・DR・教育などの重要テーマ

### 7-1. セキュリティ

- 運用アカウント・特権IDの管理
- アクセスログの取得と監視
- セキュリティインシデント発生時の対応（マルウェア感染、情報漏えいなど）
- 定期的なセキュリティ診断

などが運用設計の範囲に含まれます。

ポイント：

- セキュリティポリシーは**全システム共通の鉄の掟**なので、
  - システム側の機能で対応できるか
  - 運用で補う必要があるか
  を整理することが重要です。

### 7-2. BCP／DR（事業継続・災害対策）

- DRサイト、ホットスタンバイ／コールドスタンバイ
- DR切り替え手順
- DR訓練

などの運用も、本来は運用設計の段階から考えておくべきです。

### 7-3. 運用要員教育

- ドキュメントを揃えるだけでは不十分で、
  **教育・訓練を通じて運用担当者の理解度・熟練度を上げること**が大事です。

- 特に、
  - 重大インシデント発生時の対応
  - DR切り替え
  など、**低頻度・高重要度の作業はロールプレイで訓練**する必要があります。


## 8. どこから学べばよいか

ここまでの内容を踏まえ、運用設計を学ぶときのステップを整理します。

### ステップ1：運用の分類と登場人物を理解する

- 業務運用／基盤運用／運用管理の違い
- 利用者／サポートデスク／運用担当者／監視／保守ベンダー…などの役割

これを、まずは**ざっくり「どんな人たちが関わる世界なのか」**として押さえましょう。

### ステップ2：運用ドキュメントの意味を掴む

- 運用設計書：運用の憲法
- 運用項目一覧：運用のカタログ
- 運用フロー図：登場人物と情報の流れ
- 運用手順書：作業の台本
- 台帳・一覧：参照データベース

というイメージで覚えると、プロジェクトで資料を見たときに迷いにくくなります。

### ステップ3：自分の仕事がどこに位置するかを意識する

- アプリエンジニアの場合：
  - 自分が作る機能に「どんな運用が必要になるか」を考えてみる
- インフラエンジニアの場合：
  - 監視・バックアップ・パッチ適用・ジョブ管理など、基盤運用項目と紐づけて考える

### ステップ4：小さな運用設計からやってみる

- 例えば、
  - 自分が作ったバッチ処理の運用手順書を作成してみる
  - 単一機能の運用フロー図を描いてみる
  - 自分のチーム内だけの「ミニ運用設計書」を書いてみる

**いきなり完璧な運用設計を目指す必要はなく、「自分の担当範囲の運用を意識して設計してみる」ことが大切**です。


## 9. まとめ

- 運用とは、システムのリリース後から終了までの「日々の業務」のこと。
- 運用設計とは、その運用をうまく回すための**仕組み・ルール・ドキュメント・体制**を設計すること。
- 運用リソースは有限であり、
  - ドキュメントを整理し（無駄を減らし）、
  - 発注者と事前に合意し、
  - レベル3程度の成熟度を目指す
  ことが現実的なゴール。
- 運用設計の中心となるアウトプットは、
  - 運用設計書
  - 運用項目一覧
  - 運用フロー図
  - 運用手順書
  - 申請書
  - 台帳
  - 一覧
- 業務運用／基盤運用／運用管理それぞれに、具体的な運用項目（利用者管理、サポートデスク、パッチ適用、監視、バックアップ、運用情報統制など）が存在する。

これらを理解しておくと、
- プロジェクトで「運用設計」という言葉が出てきたときに戸惑わない
- 自分の作る機能に対して、どんな運用が必要かを考えられる
- 運用担当者との会話が噛み合う

ようになっていきます。
